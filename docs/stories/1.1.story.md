# Story 1.1: Project Initialization & Development Environment

## Status

Draft

## Story

**As a** developer,  
**I want** a fully configured React + TypeScript + Vite project with all core dependencies,  
**so that** I have a solid foundation to build the weather app efficiently.

## Acceptance Criteria

1. Vite project created with React 18+ and TypeScript template
2. All core dependencies installed: React Router, Framer Motion, Lottie React, TanStack Query, Tailwind CSS, Axios
3. Tailwind CSS configured and working with Vite
4. ESLint and Prettier configured with consistent code style rules
5. TypeScript strict mode enabled with proper tsconfig.json
6. Basic folder structure created (components, hooks, services, types, utils, pages)
7. Development server runs successfully with hot module replacement
8. Environment variable setup configured (.env.example created)
9. Git repository initialized with appropriate .gitignore
10. README.md updated with setup instructions

## Tasks / Subtasks

### Task 1: Initialize Vite Project (AC: 1)
- [ ] Run `npm create vite@latest AI-WeatherTracker -- --template react-ts`
- [ ] Navigate to project directory
- [ ] Run `npm install` to install base dependencies
- [ ] Verify dev server starts with `npm run dev`
- [ ] Verify TypeScript compilation works

### Task 2: Install Core Dependencies (AC: 2)
- [ ] Install production dependencies:
  ```bash
  npm install react-router-dom@6.21.1 \
    @tanstack/react-query@5.17.9 \
    axios@1.6.5 \
    framer-motion@11.0.3 \
    lottie-react@2.4.0 \
    zod@3.22.4 \
    clsx@2.1.0 \
    tailwind-merge@2.2.0
  ```
- [ ] Install Tailwind CSS and PostCSS dependencies:
  ```bash
  npm install -D tailwindcss@3.4.1 postcss@8.4.33 autoprefixer@10.4.16
  ```
- [ ] Install development/testing dependencies:
  ```bash
  npm install -D vitest@1.1.1 \
    @vitest/ui@1.1.1 \
    @vitest/coverage-v8@1.1.1 \
    @testing-library/react@14.1.2 \
    @testing-library/jest-dom@6.1.5 \
    @testing-library/user-event@14.5.1 \
    msw@2.0.11 \
    @types/node@20.10.6 \
    eslint-plugin-testing-library@6.2.0 \
    eslint-plugin-jsx-a11y@6.8.0
  ```
- [ ] Verify all dependencies installed successfully

### Task 3: Configure Tailwind CSS (AC: 3)
- [ ] Run `npx tailwindcss init -p` to generate tailwind.config.js and postcss.config.js
- [ ] Update tailwind.config.js with content paths:
  ```javascript
  export default {
    content: ['./index.html', './src/**/*.{js,ts,jsx,tsx}'],
    theme: { extend: {} },
    plugins: [],
  }
  ```
- [ ] Update `src/styles/index.css` with Tailwind directives:
  ```css
  @tailwind base;
  @tailwind components;
  @tailwind utilities;
  ```
- [ ] Import `src/styles/index.css` in `src/main.tsx`
- [ ] Test Tailwind by adding a utility class to App.tsx
- [ ] Verify Tailwind styles are applied in browser

### Task 4: Configure ESLint and Prettier (AC: 4)
- [ ] Install Prettier: `npm install -D prettier@3.1.1`
- [ ] Create `.prettierrc` with configuration:
  ```json
  {
    "semi": true,
    "trailingComma": "es5",
    "singleQuote": true,
    "printWidth": 100,
    "tabWidth": 2
  }
  ```
- [ ] Update `.eslintrc.cjs` to extend recommended configs and add rules
- [ ] Add Prettier to ESLint config to avoid conflicts
- [ ] Create `.prettierignore` with: `node_modules, dist, build, coverage`
- [ ] Add format scripts to package.json:
  ```json
  "format": "prettier --write \"src/**/*.{ts,tsx,css}\"",
  "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0"
  ```
- [ ] Run `npm run format` and `npm run lint` to verify setup

### Task 5: Configure TypeScript Strict Mode (AC: 5)
- [ ] Update `tsconfig.json` with strict settings:
  ```json
  {
    "compilerOptions": {
      "target": "ES2020",
      "module": "ESNext",
      "lib": ["ES2020", "DOM", "DOM.Iterable"],
      "jsx": "react-jsx",
      "strict": true,
      "noImplicitAny": true,
      "strictNullChecks": true,
      "strictFunctionTypes": true,
      "strictBindCallApply": true,
      "strictPropertyInitialization": true,
      "noImplicitThis": true,
      "alwaysStrict": true,
      "noUnusedLocals": true,
      "noUnusedParameters": true,
      "noImplicitReturns": true,
      "noFallthroughCasesInSwitch": true,
      "moduleResolution": "bundler",
      "resolveJsonModule": true,
      "isolatedModules": true,
      "esModuleInterop": true,
      "skipLibCheck": true,
      "baseUrl": ".",
      "paths": {
        "@/*": ["src/*"],
        "@components/*": ["src/components/*"],
        "@hooks/*": ["src/hooks/*"],
        "@services/*": ["src/services/*"],
        "@models/*": ["src/models/*"],
        "@utils/*": ["src/utils/*"],
        "@constants/*": ["src/constants/*"]
      }
    },
    "include": ["src"],
    "references": [{ "path": "./tsconfig.node.json" }]
  }
  ```
- [ ] Update `vite.config.ts` with path aliases to match tsconfig
- [ ] Verify TypeScript compilation with no errors

### Task 6: Create Folder Structure (AC: 6)
- [ ] Create folder structure in `src/`:
  ```bash
  mkdir -p src/{components,hooks,services,models,schemas,utils,constants,context,styles,types,__tests__}
  mkdir -p src/components/{layout,weather,forecast,location,favorites,ui,animations}
  mkdir -p src/__tests__/{components,hooks,services,utils}
  mkdir -p public/assets/animations
  ```
- [ ] Create empty `.gitkeep` files in empty directories to track them in git
- [ ] Verify folder structure matches architecture document Section 10.1

### Task 7: Configure Vite with Path Aliases (AC: 7)
- [ ] Update `vite.config.ts` with:
  ```typescript
  import { defineConfig } from 'vite';
  import react from '@vitejs/plugin-react';
  import path from 'path';

  export default defineConfig({
    plugins: [react()],
    resolve: {
      alias: {
        '@': path.resolve(__dirname, './src'),
        '@components': path.resolve(__dirname, './src/components'),
        '@hooks': path.resolve(__dirname, './src/hooks'),
        '@services': path.resolve(__dirname, './src/services'),
        '@models': path.resolve(__dirname, './src/models'),
        '@utils': path.resolve(__dirname, './src/utils'),
        '@constants': path.resolve(__dirname, './src/constants'),
      },
    },
    server: {
      port: 3000,
      open: true,
    },
  });
  ```
- [ ] Test dev server: `npm run dev`
- [ ] Verify HMR works by editing a component and seeing instant updates
- [ ] Verify server runs on port 3000

### Task 8: Environment Variable Setup (AC: 8)
- [ ] Create `.env.example` file:
  ```bash
  # OpenWeatherMap API Configuration
  VITE_OPENWEATHER_API_KEY=your_api_key_here
  VITE_OPENWEATHER_BASE_URL=https://api.openweathermap.org/data/2.5

  # Application Configuration
  VITE_APP_NAME=Weather Tracker
  VITE_CACHE_TTL=300000
  VITE_MAX_FAVORITES=20
  ```
- [ ] Create `src/types/env.d.ts` for Vite env types:
  ```typescript
  /// <reference types="vite/client" />

  interface ImportMetaEnv {
    readonly VITE_OPENWEATHER_API_KEY: string;
    readonly VITE_OPENWEATHER_BASE_URL: string;
    readonly VITE_APP_NAME: string;
    readonly VITE_CACHE_TTL: string;
    readonly VITE_MAX_FAVORITES: string;
  }

  interface ImportMeta {
    readonly env: ImportMetaEnv;
  }
  ```
- [ ] Add `.env.local` to `.gitignore`
- [ ] Document in README that users must copy `.env.example` to `.env.local`

### Task 9: Git Repository Setup (AC: 9)
- [ ] Verify git is initialized (should already be initialized)
- [ ] Update `.gitignore` to include:
  ```
  # dependencies
  /node_modules
  
  # testing
  /coverage
  
  # production
  /dist
  /build
  
  # misc
  .DS_Store
  .env.local
  .env.development.local
  .env.test.local
  .env.production.local
  
  # logs
  npm-debug.log*
  yarn-debug.log*
  yarn-error.log*
  
  # editor
  .vscode/*
  !.vscode/extensions.json
  .idea
  
  # vitest
  .vitest
  ```
- [ ] Create initial commit if not already done
- [ ] Verify `.env.local` is not tracked by git

### Task 10: Update README.md (AC: 10)
- [ ] Update README.md with:
  - Project title and description
  - Tech stack overview
  - Prerequisites (Node.js 20.11.0 LTS, npm 10.2.4+)
  - Installation instructions:
    1. Clone repository
    2. `npm install`
    3. Copy `.env.example` to `.env.local`
    4. Add OpenWeatherMap API key to `.env.local`
    5. Run `npm run dev`
  - Available scripts (dev, build, lint, format, test)
  - Project structure overview
  - Links to PRD and Architecture docs
- [ ] Verify README is clear and complete

### Task 11: Verify Complete Setup
- [ ] Run `npm run dev` and verify app loads in browser
- [ ] Run `npm run lint` and verify no errors
- [ ] Run `npm run format` and verify code is formatted
- [ ] Run `npm run build` and verify production build succeeds
- [ ] Verify all 10 acceptance criteria are met
- [ ] Create git commit with message: `feat: complete project initialization and setup`

## Dev Notes

### Project Overview
[Source: architecture.md#Section 1.1]
AI-WeatherTracker is a modern weather web application built as a personal learning project. It focuses on visual design, animations, and user experience using React 18, TypeScript, Vite, Framer Motion, and Lottie.

### Starter Template
[Source: architecture.md#Section 1.2]
- **Template:** Vite React TypeScript Official Template
- **Command:** `npm create vite@latest AI-WeatherTracker -- --template react-ts`
- **Rationale:** Lightning-fast dev server (10-20x faster than CRA), ESM-native, zero config, optimized builds

### Technology Stack
[Source: architecture.md#Section 3]

**Core Dependencies (exact versions):**
- React 18.2.0
- TypeScript 5.3.3
- Vite 5.0.8
- React Router 6.21.1
- TanStack Query 5.17.9
- Axios 1.6.5
- Framer Motion 11.0.3
- Lottie React 2.4.0
- Tailwind CSS 3.4.1
- Zod 3.22.4

**Development Dependencies:**
- Vitest 1.1.1
- React Testing Library 14.1.2
- MSW 2.0.11
- ESLint 8.56.0
- Prettier 3.1.1
- PostCSS 8.4.33
- Autoprefixer 10.4.16
- @types/node 20.10.6

**Runtime Requirements:**
- Node.js 20.11.0 LTS
- npm 10.2.4+
- Modern browser with ES2020+ support

### Project Structure
[Source: architecture.md#Section 10.1]

The project follows a feature-based folder organization:

```
src/
├── components/        # React components organized by feature
│   ├── layout/       # App, Layout, Header, Footer
│   ├── weather/      # Weather display components
│   ├── forecast/     # Forecast components
│   ├── location/     # Location search and geolocation
│   ├── favorites/    # Favorites management
│   ├── ui/           # Reusable UI components
│   └── animations/   # Animation wrappers
├── hooks/            # Custom React hooks
├── services/         # API clients and external services
├── models/           # TypeScript interfaces
├── schemas/          # Zod validation schemas
├── utils/            # Utility functions
├── constants/        # App-wide constants
├── context/          # React Context providers
├── styles/           # Global styles
├── types/            # TypeScript type definitions
└── __tests__/        # Test files organized by category
```

### Path Aliases Configuration
[Source: architecture.md#Section 10.2]

Configure both `tsconfig.json` and `vite.config.ts` with matching path aliases:
- `@/*` → `src/*`
- `@components/*` → `src/components/*`
- `@hooks/*` → `src/hooks/*`
- `@services/*` → `src/services/*`
- `@models/*` → `src/models/*`
- `@utils/*` → `src/utils/*`
- `@constants/*` → `src/constants/*`

**Usage Example:**
```typescript
import { WeatherService } from '@services/WeatherService';
import { formatTemperature } from '@utils/formatters';
```

### TypeScript Configuration
[Source: architecture.md#Section 13.1]

Enable strict mode with all type safety features:
- `strict: true`
- `noImplicitAny: true`
- `strictNullChecks: true`
- All strict* flags enabled
- `noUnusedLocals: true`
- `noUnusedParameters: true`
- `noImplicitReturns: true`
- `noFallthroughCasesInSwitch: true`

### File Naming Conventions
[Source: architecture.md#Section 10.3]

- **Components:** PascalCase.tsx (e.g., `WeatherDisplay.tsx`)
- **Hooks:** camelCase.ts with 'use' prefix (e.g., `useWeatherData.ts`)
- **Services:** PascalCase.ts (e.g., `WeatherService.ts`)
- **Utils:** camelCase.ts (e.g., `formatters.ts`)
- **Tests:** *.test.ts(x) (e.g., `WeatherDisplay.test.tsx`)
- **Styles:** index.css

### Environment Variables
[Source: architecture.md#Section 11.4]

All environment variables must be prefixed with `VITE_` to be exposed to the client:

```bash
VITE_OPENWEATHER_API_KEY=<api_key>
VITE_OPENWEATHER_BASE_URL=https://api.openweathermap.org/data/2.5
VITE_APP_NAME=Weather Tracker
VITE_CACHE_TTL=300000
VITE_MAX_FAVORITES=20
```

**Security Note:** API keys are visible in client-side code. OpenWeatherMap free tier has low quota (1000 calls/day) and keys should be restricted by domain in the OpenWeatherMap dashboard.

### Vite Configuration Details
[Source: architecture.md#Section 11.2]

**Dev Server:**
- Port: 3000 (customized from default 5173)
- Auto-open browser on start
- Hot Module Replacement (HMR) enabled

**Build Configuration:**
- Output directory: `dist/`
- Source maps enabled for debugging
- Code splitting by vendor chunks
- Minification with Terser

### Testing Setup
[Source: architecture.md#Section 14]

**Testing Stack:**
- Vitest (test runner, Jest-compatible API)
- React Testing Library (component testing)
- MSW (API mocking)
- @vitest/coverage-v8 (coverage reporting)

**Coverage Thresholds:**
- Lines: 80%
- Functions: 80%
- Branches: 75%
- Statements: 80%

**Test Configuration Location:** `vitest.config.ts`
**Setup File:** `src/__tests__/setup.ts`

### Coding Standards
[Source: architecture.md#Section 13]

**ESLint Rules:**
- Extend recommended TypeScript configs
- React hooks rules
- Testing library plugin
- JSX accessibility plugin
- Max warnings: 0

**Prettier Configuration:**
- Semi-colons: true
- Single quotes: true
- Trailing commas: ES5
- Print width: 100
- Tab width: 2

### Git Workflow
[Source: architecture.md#Section 13.9]

**Commit Message Format (Conventional Commits):**
```
<type>(<scope>): <subject>

Types: feat, fix, docs, style, refactor, test, chore
Example: feat(setup): complete project initialization
```

### Project Constraints
[Source: architecture.md#Section 1.3]

- **Timeline:** 3-4 weeks for full MVP
- **Budget:** $0 (free tier services only)
- **Team Size:** 1 developer
- **Browser Support:** Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **Deployment:** Vercel free tier

### Success Criteria for This Story

The development environment is considered complete when:
1. All dependencies are installed with exact versions specified
2. Dev server starts without errors on port 3000
3. HMR (Hot Module Replacement) works correctly
4. TypeScript compiles with strict mode and no errors
5. ESLint passes with zero warnings
6. Prettier formats code consistently
7. Project structure matches architecture specification
8. Path aliases work in both TypeScript and Vite
9. Environment variables are properly configured
10. Production build completes successfully
11. README contains clear setup instructions

## Testing

### Test Requirements
[Source: architecture.md#Section 14]

**For This Story:**
- No unit tests required (infrastructure setup only)
- Manual verification required:
  - Run `npm run dev` → Server starts on port 3000
  - Run `npm run build` → Build completes without errors
  - Run `npm run lint` → No errors or warnings
  - Run `npm run format` → Code formatted correctly
  - Edit a component → HMR updates browser instantly

**Test Standards for Future Stories:**
- Test files location: `src/__tests__/<category>/`
- Testing framework: Vitest with React Testing Library
- Minimum coverage: 80% (lines, functions, statements), 75% (branches)
- Use MSW for API mocking
- Follow user-centric testing (test behavior, not implementation)

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-03 | 1.0 | Initial story draft created | Bob (SM) |

## Dev Agent Record

### Agent Model Used
_To be populated by Dev Agent_

### Debug Log References
_To be populated by Dev Agent_

### Completion Notes List
_To be populated by Dev Agent_

### File List
_To be populated by Dev Agent_

## QA Results

_To be populated by QA Agent_
