# Story 1.2: Routing & Layout Foundation

## Status

Draft

## Story

**As a** developer,  
**I want** React Router configured with a clean layout structure,  
**so that** navigation and page structure are established for future features.

## Acceptance Criteria

1. React Router v6 installed and configured
2. Main layout component created with header and content area
3. Home route (/) configured and rendering
4. Basic responsive header component created with app branding
5. Layout uses Framer Motion for page transitions
6. 404 Not Found route configured
7. All routes render within consistent layout
8. Mobile-responsive navigation structure in place

## Tasks / Subtasks

### Task 1: Install and Configure React Router (AC: 1)
- [ ] Verify React Router 6.21.1 is installed (should be from Story 1.1)
- [ ] Create `src/main.tsx` router configuration with BrowserRouter
- [ ] Set up routes configuration structure
- [ ] Test that router renders without errors

### Task 2: Create Layout Component Structure (AC: 2, 4, 7)
- [ ] Create `src/components/layout/Layout.tsx` component
- [ ] Add header, main content area, and footer slots
- [ ] Create `src/components/layout/Header.tsx` with app branding
- [ ] Add app title/logo to header (text-based for now)
- [ ] Create `src/components/layout/Footer.tsx` with basic content
- [ ] Apply Tailwind CSS for responsive layout (flexbox/grid)
- [ ] Test layout renders on mobile (320px), tablet (768px), desktop (1024px+)
- [ ] Ensure header is sticky on scroll (optional enhancement)

### Task 3: Configure Home Route (AC: 3)
- [ ] Create `src/pages/HomePage.tsx` (temporary placeholder)
- [ ] Add welcome message or "Loading..." text
- [ ] Configure route: `<Route path="/" element={<HomePage />} />`
- [ ] Wrap route with Layout component
- [ ] Test home page loads at `http://localhost:3000/`

### Task 4: Add 404 Not Found Route (AC: 6)
- [ ] Create `src/pages/NotFoundPage.tsx`
- [ ] Add user-friendly 404 message
- [ ] Add "Go Home" button with react-router Link
- [ ] Configure catch-all route: `<Route path="*" element={<NotFoundPage />} />`
- [ ] Test 404 page renders for invalid routes

### Task 5: Implement Framer Motion Page Transitions (AC: 5)
- [ ] Create `src/components/animations/PageTransition.tsx` wrapper
- [ ] Implement AnimatePresence from Framer Motion
- [ ] Define transition variants (exit: fade out, enter: fade in)
- [ ] Wrap all route components with PageTransition
- [ ] Test smooth transitions when navigating between routes
- [ ] Verify no layout shift during transitions

### Task 6: Mobile Navigation Structure (AC: 8)
- [ ] Create `src/components/layout/Navigation.tsx` component
- [ ] Add navigation links (Home, Favorites - for future)
- [ ] Implement mobile menu toggle button (hamburger icon)
- [ ] Add mobile menu overlay/drawer (hidden by default)
- [ ] Use Framer Motion for mobile menu slide-in animation
- [ ] Test navigation works on mobile, tablet, desktop
- [ ] Ensure touch targets are 44x44px minimum on mobile

### Task 7: Verify Complete Layout System
- [ ] Test all routes render within Layout
- [ ] Verify page transitions work smoothly (60fps)
- [ ] Test responsive behavior at all breakpoints
- [ ] Check accessibility (keyboard navigation, ARIA labels)
- [ ] Verify no console errors or warnings
- [ ] Create git commit: `feat(layout): complete routing and layout foundation`

## Dev Notes

### Project Context
[Source: architecture.md#Section 2.2]
The app uses a standard Layout pattern with Header, Main Content, and Footer. All pages render within this consistent structure.

### React Router Configuration
[Source: architecture.md#Section 3.1]
- React Router: 6.21.1
- Client-side routing (BrowserRouter)
- Code splitting support via React.lazy() for future routes

### Component Structure
[Source: architecture.md#Section 5.1]
```
App (ErrorBoundary)
 └─ Router (BrowserRouter)
     └─ Layout
         ├─ Header
         ├─ Main Content → Routes
         └─ Footer
```

### Layout Components Location
[Source: architecture.md#Section 10.1]
- `src/components/layout/App.tsx` - Root component
- `src/components/layout/Layout.tsx` - Main layout wrapper
- `src/components/layout/Header.tsx` - Header component
- `src/components/layout/Footer.tsx` - Footer component
- `src/components/layout/Navigation.tsx` - Navigation component

### Framer Motion Integration
[Source: architecture.md#Section 3.1]
- Framer Motion: 11.0.3
- Use for page transitions and micro-interactions
- AnimatePresence for enter/exit animations

### Page Transition Animation Specs
[Source: architecture.md#Section 7.3]
```typescript
// Exit Animation (200ms)
- opacity: 1 → 0
- y: 0 → -20px
- transition: { ease: 'easeIn' }

// Enter Animation (300ms)
- opacity: 0 → 1
- y: 20px → 0
- transition: { ease: 'easeOut', delay: 0.1s }
```

### Responsive Breakpoints
[Source: architecture.md#Section 1.3]
- Mobile: 320px - 767px
- Tablet: 768px - 1023px
- Desktop: 1024px+

### Accessibility Requirements
[Source: architecture.md#Section 13]
- Semantic HTML (header, nav, main, footer)
- ARIA labels for navigation
- Keyboard navigation support
- Focus indicators visible

### Tailwind CSS Usage
[Source: architecture.md#Section 3.1]
- Tailwind CSS 3.4.1 configured in Story 1.1
- Use utility classes for responsive design
- Mobile-first approach (default → sm → md → lg → xl)

### Router Configuration Example
```typescript
// src/main.tsx
import { BrowserRouter, Routes, Route } from 'react-router-dom';
import Layout from '@components/layout/Layout';
import HomePage from '@/pages/HomePage';
import NotFoundPage from '@/pages/NotFoundPage';

function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/" element={<Layout />}>
          <Route index element={<HomePage />} />
          <Route path="*" element={<NotFoundPage />} />
        </Route>
      </Routes>
    </BrowserRouter>
  );
}
```

### Success Criteria

This story is complete when:
1. React Router is rendering pages correctly
2. Layout component provides consistent structure across all routes
3. Header is responsive and includes app branding
4. Page transitions use Framer Motion smoothly
5. 404 page catches invalid routes
6. Mobile navigation structure is in place (even if minimal)
7. All routes are accessible via keyboard navigation
8. No console errors or warnings

## Testing

### Manual Verification

1. **Routing Test:**
   - Visit `http://localhost:3000/` → HomePage renders
   - Visit `http://localhost:3000/invalid` → NotFoundPage renders
   - Click "Go Home" button → Returns to HomePage

2. **Layout Test:**
   - Verify Header appears on all pages
   - Verify Footer appears on all pages
   - Verify main content area renders between header/footer

3. **Responsive Test:**
   - Resize browser to 320px width → Mobile layout works
   - Resize to 768px → Tablet layout works
   - Resize to 1024px+ → Desktop layout works
   - Mobile menu toggle works on small screens

4. **Animation Test:**
   - Navigate between pages → Smooth fade transition
   - No layout shift during transitions
   - Transitions run at 60fps (no jank)

5. **Accessibility Test:**
   - Tab through navigation → Focus indicators visible
   - Screen reader announces page changes
   - ARIA labels present on navigation elements

### Future Unit Tests
- Layout component renders children
- Header displays app name
- NotFoundPage renders 404 message
- Navigation links route correctly

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-03 | 1.0 | Initial story draft created | Bob (SM) |

## Dev Agent Record

### Agent Model Used
_To be populated by Dev Agent_

### Debug Log References
_To be populated by Dev Agent_

### Completion Notes List
_To be populated by Dev Agent_

### File List
_To be populated by Dev Agent_

## QA Results

_To be populated by QA Agent_
