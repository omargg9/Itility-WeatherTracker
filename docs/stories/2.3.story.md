# Story 2.3: Hourly Forecast Display

**Epic:** Epic 2 - Enhanced Forecast & Location Features  
**Story ID:** 2.3  
**Created:** 2025-12-03  
**Status:** Draft  

---

## Story

As a **user**,  
I want **to see an hourly weather forecast for the next 24 hours**,  
so that **I can plan activities hour by hour**.

---

## Acceptance Criteria

1. HourlyForecast component created displaying next 24 hours of weather
2. Each hour shows time, temperature, icon, and precipitation probability
3. Component uses same forecast data from `useForecastQuery` (first 8 entries = 24 hours)
4. Horizontal scrollable layout on all screen sizes for easy browsing
5. Current hour highlighted or indicated clearly
6. Temperature graph or visual representation showing temp trends (optional enhancement)
7. Loading and error states consistent with other weather components
8. Smooth scroll behavior with snap-to-hour on mobile
9. Compact design to fit within existing layout without overwhelming page

---

## Tasks

### Task 1: Create HourlyForecast Component
- Extract first 8 entries from forecast data (24 hours / 3-hour intervals)
- Create horizontal scrollable container with snap points
- Display time, temp, icon, precipitation for each hour
- Apply glassmorphism card styling
- Implement loading skeleton
- Add error state handling
- Test responsive behavior

### Task 2: Create HourlyForecastCard Component
- Display formatted time (e.g., "3 PM", "12 AM")
- Show temperature prominently
- Render weather icon (small size)
- Display precipitation probability if > 0%
- Highlight current hour with different styling
- Ensure minimum touch target size (44px)

### Task 3: Add Optional Temperature Graph
- Use simple SVG line chart showing temperature trend
- Plot 8 data points for visual representation
- Keep graph subtle and non-intrusive
- Ensure graph is accessible (include data table alternative)

### Task 4: Integrate into HomePage
- Position between current weather and 5-day forecast
- Add section heading: "Hourly Forecast"
- Pass same coordinates as other weather components
- Test full integration

### Task 5: Create Tests
- Test component renders 8 hourly entries
- Test current hour highlighting
- Test horizontal scroll behavior
- Test loading/error states
- Achieve 90%+ coverage

---

## Dev Notes

**Data Source:** Use first 8 entries from `useForecastQuery` data (3-hour intervals Ã— 8 = 24 hours)

**Time Formatting:** Use `new Date(dt * 1000).toLocaleTimeString('en-US', { hour: 'numeric' })`

**Current Hour Detection:** Compare forecast entry timestamp with current time

**Scroll Behavior:** Use CSS `scroll-snap-type: x mandatory` for smooth scrolling

---

## Testing

Test hourly data extraction, time formatting, current hour highlighting, scroll behavior, and accessibility.

**Coverage:** 90%+

---

## Change Log

| Date | Author | Change |
|------|--------|--------|
| 2025-12-03 | SM (Bob) | Story created from PRD Epic 2, Story 2.3 |

---

## Dev Agent Record

**Date Started:** _Pending_  
**Date Completed:** _Pending_  
**Agent:** _Pending_  

---

## QA Results

**Status:** _Pending_
